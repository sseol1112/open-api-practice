<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.3.js"></script>
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.1.0/kakao.min.js" integrity="sha384-dpu02ieKC6NUeKFoGMOKz6102CLEWi9+5RQjWSV0ikYSFFd8M3Wp2reIcquJOemx" crossorigin="anonymous"></script>
    <title>API Practice</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>OPEN API Practice.</h1>
            <h3>Chapter 3. Navi :: ğŸš˜ğŸŒ</h3>
        </div>
        <div class="contents">
            <div class="form-wrap navi">
                <h4 class="title">ëª©ì ì§€ë¥¼ ê²€ìƒ‰í•´ì£¼ì„¸ìš”.</h4>
                <div class="search-form">
                    <input type="text" value="" name="search" class="input-search" placeholder="ëª©ì ì§€ ì…ë ¥">
                    <button class="btn btn-search">ê²€ìƒ‰</button>
                    <button class="btn btn-reset ml10">ì´ˆê¸°í™”</button>
                </div>
            </div>
            <div class="result-wrap">
                <div class="result-list">
                    <ul>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer fl-center">
            <a class="btn" href="../index.html">ëª©ë¡ ë³´ê¸°</a>
        </div>

    </div>  
</body>
<script>
    //ë¡œì»¬ api 1ì°¨í˜¸ì¶œí•´ì„œ ê²€ìƒ‰í•œ ì¥ì†Œì˜ ì¢Œí‘œê°’ì„ë¨¼ì € êµ¬í•˜ê³ , ê±°ê¸°ì—ë§ì¶°ì„œ ì¢Œí‘œê°’ì„ ë„¤ë¹„api í˜¸ì¶œí•´ì„œ ë°ì´í„° ë„˜ì–´ê°€ë„ë¡ í•´ì£¼ì–´ì•¼í•¨
    //ë„¤ë¹„ apiëŠ” ëª¨ë°”ì¼ì—ì„œë§Œ ì‹¤í–‰ë¨(ì¹´ì¹´ì˜¤ë§µ ì–´í”Œ ì‹¤í–‰)
    const KAKAO_API_KEY = "15c5d3c0331e75e1db22a54afe24971c";
    const searchBtn = document.querySelector('.search-form .btn-search');
    
    Kakao.init(KAKAO_API_KEY);

    searchBtn.addEventListener('click', function(){
        startNavi();
    })
    
    function startNavi() {
        let naviInputvalue = document.querySelector(".form-wrap.navi .input-search").value;
        let chktype = isMobile();

        if(chktype == true ){
                Kakao.Navi.start({
                name : naviInputvalue,
                x: 127.11205203011632,
                y: 37.39279717586919,
                coordType: 'wgs84',
            });
        } else {
            alert("ëª¨ë°”ì¼ í™˜ê²½ì—ì„œë§Œ ë„¤ë¹„ê²€ìƒ‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. mobileë¡œ ê²€ìƒ‰í•´ì£¼ì„¸ìš”.")
        }

    }

    const isMobile = () => {
        const user = navigator.userAgent;
        let isCheck = false;

        if ( user.indexOf("iPhone") > -1 || user.indexOf("Android") > -1 ) {
            isCheck = true;
        }        
        
        return isCheck;
    }
</script>
</html>